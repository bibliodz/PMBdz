<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- $Id: search_fields_empr.xml,v 1.11 2013-12-18 15:41:15 dgoron Exp $ -->
<pmbfields>

	<!-- Zone fixedFields :
		Liste des champs de recherche possibles de la base de données
		Chaque champ est modélisé par le tag <field> :
		<field @att=id,title> 
			-id : numéro unique arbitraire
			-title : Texte qui sera affiché dans l'écran de recherche
			<field> contient les sous tags :
				<input @type> : type de saisie
					-type (text|list) : 
						@type=list (dans le cas d'une saisie par liste), input contient les sous champs :
						 	<queryList> : requete pour récupérer les values de la liste. La requete doit avoir 2 colonnes
										  -la première donne le code à retourner
										  -la deuxième donne le libellé dans la liste
										  
				<query> : requete associée au champ et à l'opérateur
				<query @att=for,multipleWords,regDiacrit>
					-for : nom de l'opérateur auquel correspond la requete 
					 (les opérateurs non listés ne seront pas pris en compte), 
					-multipleWords (yes|no) : la requete tient compte de plusieurs termes saisis avec des espaces
					-regDiacrit (yes|no) : les termes sont passés par la fonction de nettoyage des mots vides et des accents
			 		<query> contient les sous tags :
					
						<main> : Corps principal de la requete, 
							-!!p!! sera remplacé dans la requete par le texte saisi pour la recherche, 
							-!!multiple_term!! (uniquement si multipleWords="yes") sera remplacé par la série 
							 de tests de la clause where pour chaque mot saisi
						
						<multipleTerm> : terme de condition utilisé pour remplacer !!multiple_term!!
						<multipleOperator> : opérateur utilisé entre les termes de conditions 
	-->

	<fixedFields>
		<field title="msg:67" id="1" separator="msg:champs_principaux_query">
			<input type="text"/>
			<query for="STARTWITH" regDiacrit="yes"> 
				<main><![CDATA[select distinct id_empr  from empr where empr_nom like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_nom like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_nom like '!!p!!']]></main>
			</query>
		</field>
		<field title="msg:68" id="2">
			<input type="text" />
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prenom like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prenom like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prenom like '!!p!!']]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr  from empr where empr_prenom='']]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_prenom!='']]></main>
			</query>
		</field>
		<field title="msg:69" id="39">
			<input type="text" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_adr1]]></main>
				<multipleTerm>empr_adr1 like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_adr1]]></main>
				<multipleTerm>empr_adr1 like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr1 like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr1 like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr1 like '!!p!!']]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr1='']]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_adr1!='']]></main>
			</query>
		</field>
		<field title="msg:70" id="40">
			<input type="text" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_adr2]]></main>
				<multipleTerm>empr_adr2 like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_adr2]]></main>
				<multipleTerm>empr_adr2 like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr2 like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr2 like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr2 like '!!p!!']]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr  from empr where empr_adr2='']]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_adr2!='']]></main>
			</query>
		</field>
		<field title="msg:71" id="42">
			<input type="text" />
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_cp like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_cp like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_cp like '!!p!!']]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr  from empr where empr_cp='']]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_cp!='']]></main>
			</query>
		</field>
		<field title="msg:72" id="3">
			<input type="text" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_ville]]></main>
				<multipleTerm>empr_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_ville]]></main>
				<multipleTerm>empr_ville like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_ville like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_ville like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_ville like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_ville='']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_ville!='']]></main>
			</query>
		</field>
		<field title="msg:146" id="43">
			<input type="text" />
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_pays like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_pays like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_pays like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_pays='']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_pays!='']]></main>
			</query>
		</field>
		<field title="msg:email" id="38">
			<input type="text" />
			<query for="STARTWITH" Keep_EmptyWord="no">
				<main><![CDATA[select distinct id_empr  from empr where empr_mail like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" Keep_EmptyWord="no">
				<main><![CDATA[select distinct id_empr  from empr where empr_mail like '%!!p!!']]></main>
			</query>
			<query for="EXACT" Keep_EmptyWord="no">
				<main><![CDATA[select distinct id_empr  from empr where empr_mail like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_mail='']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_mail!='']]></main>
			</query>
		</field>
		<field title="msg:73" id="46">
			<input type="text" />
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_empr  from empr where empr_tel1 like '!!p!!%' or empr_tel2 like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_empr  from empr where empr_tel1 like '%!!p!!' or empr_tel2 like '%!!p!!']]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_empr  from empr where empr_tel1 like '!!p!!' or empr_tel2 like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_tel1='' and empr_tel2='']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_tel1!='' or empr_tel2!='']]></main>
			</query>
		</field>
		<field title="msg:fichier_action_sms" id="47">
			<input type="list">
				<options>
					<option value="0">msg:39</option>
					<option value="1">msg:40</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_sms='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:75" id="4">
			<input type="text" />
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_year like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_year like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_year like '!!p!!']]></main>
			</query>
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (empr_year*1='!!p!!'*1 and empr_year*1>0)]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct id_empr from empr where (empr_year*1<'!!p!!'*1 and empr_year*1>0)]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct id_empr from empr where (empr_year*1>'!!p!!'*1 and empr_year*1>0)]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_year*1<='!!p!!'*1 and empr_year*1>0)]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_year*1>='!!p!!'*1 and empr_year*1>0)]]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr from empr where (empr_year='')]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where (empr_year!='')]]></main>
			</query>
		</field>
		<field title="msg:empr_date_adhesion" id="5">
			<input type='date' placeholder='msg:format_date_input_placeholder'/>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_adhesion='!!p!!']]></main>			
			</query>
			<query for="LT">
				<main><![CDATA[select distinct id_empr from empr where empr_date_adhesion<'!!p!!' ]]></main>			
			</query>
			<query for="GT">
				<main><![CDATA[select distinct id_empr from empr where empr_date_adhesion>'!!p!!' ]]></main>			
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_adhesion<='!!p!!' ]]></main>			
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_adhesion>='!!p!!' ]]></main>		
			</query>
		</field>
		<field title="msg:readerlist_dateexpiration" id="6">
			<input type='date' placeholder='msg:format_date_input_placeholder'/>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_expiration='!!p!!' ]]></main>			
			</query>
			<query for="LT">
				<main><![CDATA[select distinct id_empr from empr where empr_date_expiration<'!!p!!' ]]></main>			
			</query>
			<query for="GT">
				<main><![CDATA[select distinct id_empr from empr where empr_date_expiration>'!!p!!' ]]></main>			
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_expiration<='!!p!!' ]]></main>			
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_date_expiration>='!!p!!' ]]></main>		
			</query>
		</field>
		<field title="msg:empr_date_update" id="7">
			<input type='date' placeholder='msg:format_date_input_placeholder'/>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where empr_modif='!!p!!' ]]></main>			
			</query>
			<query for="LT">
				<main><![CDATA[select distinct id_empr from empr where empr_modif<'!!p!!' ]]></main>			
			</query>
			<query for="GT">
				<main><![CDATA[select distinct id_empr from empr where empr_modif>'!!p!!' ]]></main>			
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_modif<='!!p!!' ]]></main>			
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct id_empr from empr where empr_modif>='!!p!!' ]]></main>		
			</query>
		</field>
		<field title="msg:297" id="8">
			<input type="query_list">
				<query>select idstatut, statut_libelle from empr_statut order by statut_libelle</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_statut='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:localisation_sort" id="9">
			<input type="query_list">
				<query>select idlocation,location_libelle from docs_location order by location_libelle</query>	
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where empr_location='!!p!!']]></main>
				</query>
		</field>
		<field title="msg:empr_categ" id="10">
			<input type="query_list">
				<query>select id_categ_empr, libelle from empr_categ order by libelle</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_categ='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:codestat_empr" id="11">
			<input type="query_list">
				<query>select idcode, libelle from empr_codestat order by libelle</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_codestat='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:74" id="37">
			<input type="text" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_prof]]></main>
				<multipleTerm>empr_prof like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_prof]]></main>
				<multipleTerm>empr_prof like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prof like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prof like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes" Keep_EmptyWord="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_prof like '!!p!!']]></main>
			</query>
			<query for='ISEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_prof='']]></main>
			</query>
			<query for='ISNOTEMPTY'>
				<main><![CDATA[select distinct id_empr  from empr where empr_prof!='']]></main>
			</query>
		</field>
		<field title="msg:125" id="12">
			<input type="list">
				<options>
					<option value="1">msg:126</option>
					<option value="2">msg:127</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where (empr_sexe='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:groupe_empr" id="13">
			<input type="query_list">
				<query>select id_groupe, libelle_groupe from groupe order by libelle_groupe</query>
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr left join empr_groupe on empr_id=id_empr left join groupe on id_groupe=groupe_id where (groupe_id='!!p!!') ]]></main>			
			</query>
		</field>
		<field title="msg:empr_type_abt" id="14">
			<var name="pmb_gestion_abonnement" visibility="yes">
				<value visibility="no">0</value>
			</var> 
			<input type="query_list">
				<name>doctype</name>
				<query>SELECT id_type_abt, type_abt_libelle FROM type_abts ORDER BY type_abt_libelle</query>
			</input>
			<query for="EQ">
				 <main><![CDATA[select distinct id_empr from empr where (type_abt='!!p!!') ]]></main>					
			</query>
		</field>
		<field title="msg:codes_barres_query" id="15">
			<input type="text"/>
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_empr from empr where empr_cb like '!!p!!%']]></main>			
			</query>
			<query for="CONTAINS">
				<main><![CDATA[select distinct id_empr from empr where empr_cb like '%!!p!!%']]></main>			
			</query>
			<query for="ENDWITH">	
				<main><![CDATA[select distinct id_empr from empr where empr_cb like '%!!p!!']]></main>									
			</query>
		</field>
		<field title="msg:empr_login" id="45">
			<input type="text" />
			<query for="STARTWITH">
				<main><![CDATA[select distinct id_empr  from empr where empr_login like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH">
				<main><![CDATA[select distinct id_empr  from empr where empr_login like '%!!p!!']]></main>
			</query>
			<query for="EXACT">
				<main><![CDATA[select distinct id_empr  from empr where empr_login like '!!p!!']]></main>
			</query>
		</field>
		<field title="msg:message_emprunteur" id="48">
			<input type="text" />
			<query for="CONTAINS_AT_LEAST" multipleWords="yes" regdiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_msg]]></main>
				<multipleTerm>empr_msg like '%!!p!!%'</multipleTerm>
				<multipleOperator>or</multipleOperator>
			</query>
			<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where (!!multiple_term!!) order by empr_msg]]></main>
				<multipleTerm>empr_msg like '%!!p!!%'</multipleTerm>
				<multipleOperator>and</multipleOperator>
			</query>
			<query for="STARTWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_msg like '!!p!!%']]></main>
			</query>
			<query for="ENDWITH" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_msg like '%!!p!!']]></main>
			</query>
			<query for="EXACT" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr  from empr where empr_msg like '!!p!!']]></main>
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr  from empr where empr_msg='']]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_msg!='']]></main>
			</query>
		</field>
		<field title="msg:empr_langue_opac" id="16" separator='msg:537'>
			<input type="query_list">
				<query>SELECT distinct empr_lang from empr</query>
			</input>
			<query for="EQ">
				 <main><![CDATA[select distinct id_empr from empr where (empr_lang='!!p!!') ]]></main>						
			</query>
			<query for="ISEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_lang is null ]]></main>
			</query>
			<query for="ISNOTEMPTY">
				<main><![CDATA[select distinct id_empr from empr where empr_lang is not null ]]></main>
			</query>
		</field>
		<field title="msg:empr_nb_prets_encours_query" id="17" separator="msg:circulation_query">
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select pret_idempr as id_empr from pret group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select pret_idempr as id_empr from pret group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select pret_idempr as id_empr from pret group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select pret_idempr as id_empr from pret group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select pret_idempr as id_empr from pret group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_nb_prets_enretard_query" id="18">
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select pret_idempr as id_empr from pret where pret_retour < curdate() group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select pret_idempr as id_empr from pret where pret_retour < curdate() group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select pret_idempr as id_empr from pret where pret_retour < curdate() group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select pret_idempr as id_empr from pret where pret_retour < curdate() group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select pret_idempr as id_empr from pret where pret_retour < curdate() group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_date_pret_query" id="19">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_date>='!!p!!' and pret_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_date<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_date>'!!p!! 23:59:59']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_date>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_datelast_pret_query" id="20">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct id_empr from empr where last_loan_date='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct id_empr from empr where last_loan_date<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct id_empr from empr where last_loan_date>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct id_empr from empr where last_loan_date<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct id_empr from empr where last_loan_date>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_dateretour_pret_query" id="44">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_retour='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_retour<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_retour>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_retour<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where pret_retour>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_date_relance_query" id="21">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where date_relance='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where date_relance<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where date_relance>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where date_relance<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct pret_idempr as id_empr from pret where date_relance>='!!p!!']]></main>
			</query>
		</field>			
		<field title="msg:empr_nb_resas_encours_query" id="22">
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select resa_idempr as id_empr from resa group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select resa_idempr as id_empr from resa group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select resa_idempr as id_empr from resa group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_nb_resas_depassees_query" id="23">
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select resa_idempr as id_empr from resa where resa_date_fin < curdate() and resa_date_fin<>'0000-00-00' group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select resa_idempr as id_empr from resa where resa_date_fin < curdate() and resa_date_fin<>'0000-00-00' group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select resa_idempr as id_empr from resa where resa_date_fin < curdate() and resa_date_fin<>'0000-00-00' group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa where resa_date_fin < curdate() and resa_date_fin<>'0000-00-00' group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa where resa_date_fin < curdate() and resa_date_fin<>'0000-00-00' group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_etat_resa_query" id="24">
			<input type="list">
				<options>
					<option value="1">msg:resa_show_validees</option>
					<option value="2">msg:resa_show_invalidees</option>
					<option value="3">msg:resa_show_non_confirmees</option>
					<option value="4">msg:resa_confirmee</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select resa_idempr as id_empr from resa where if(!!p!!=1,resa_cb<>'',if(!!p!!=2,resa_cb='',if(!!p!!=3,resa_confirmee=0,if(!!p!!=4,resa_confirmee=1,'')))) ]]></main>			
			</query>
		</field>
		<field title="msg:empr_date_resa_query" id="25">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date>='!!p!!' and resa_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date>'!!p!! 23:59:59']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_date_resa_deb_query" id="26">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_debut='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_debut<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_debut>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_debut<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_debut>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_date_resa_fin_query" id="27">
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_fin='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_fin<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_fin>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_fin<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa where resa_date_fin>='!!p!!']]></main>
			</query>
		</field>		
		<field title="msg:empr_nb_resas_planning_query" id="28">
			<var name="pmb_resa_planning" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_etat_resa_planning_query" id="29">
			<var name="pmb_resa_planning" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="list">
				<options>
					<option value="1">msg:resa_show_validees</option>
					<option value="2">msg:resa_show_invalidees</option>
					<option value="3">msg:resa_show_non_confirmees</option>
					<option value="4">msg:resa_confirmee</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select resa_idempr as id_empr from resa_planning where if(!!p!!=1,resa_validee=1,if(!!p!!=2,resa_validee=0,if(!!p!!=3,resa_confirmee=0,if(!!p!!=4,resa_confirmee=1,'')))) ]]></main>			
			</query>
		</field>
		<field title="msg:empr_date_resa_planning_query" id="30">
			<var name="pmb_resa_planning" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date>='!!p!!' and resa_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date>'!!p!! 23:59:59']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date<='!!p!! 23:59:59']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_date_resa_planning_deb_query" id="31">
			<var name="pmb_resa_planning" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_debut='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_debut<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_debut>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_debut<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_debut>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_date_resa_planning_fin_query" id="32">
			<var name="pmb_resa_planning" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_fin='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_fin<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_fin>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_fin<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct resa_idempr as id_empr from resa_planning where resa_date_fin>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_nb_recouvrements_query" id="33">
			<var name="pmb_gestion_financiere" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_gestion_amende" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select empr_id as id_empr from recouvrements group by id_empr having count(1) = !!p!!]]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select empr_id as id_empr from recouvrements group by id_empr having count(1) < !!p!!]]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select empr_id as id_empr from recouvrements group by id_empr having count(1) > !!p!!]]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select empr_id as id_empr from recouvrements group by id_empr having count(1) <= !!p!!]]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select empr_id as id_empr from recouvrements group by id_empr having count(1) >= !!p!!]]></main>
			</query>
		</field>
		<field title="msg:empr_date_recouvrement_query" id="34">
			<var name="pmb_gestion_financiere" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_gestion_amende" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="date" placeholder='msg:format_date_input_placeholder' />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where date_rec='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where date_rec<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where date_rec>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where date_rec<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where date_rec>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_somme_recouvrement_query" id="35">
			<var name="pmb_gestion_financiere" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_gestion_amende" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text" />
			<query for="EQ" regDiacrit="yes">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where montant='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where montant<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where montant>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where montant<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements where montant>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_somme_totale_recouvrement_query" id="36">
			<var name="pmb_gestion_financiere" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_gestion_amende" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="text" />
			<query for="EQ" regDiacrit="yes">sum(montant)
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements group by id_empr having sum(montant)='!!p!!']]></main>
			</query>
			<query for="LT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements group by id_empr having sum(montant)<'!!p!!']]></main>
			</query>
			<query for="GT">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements group by id_empr having sum(montant)>'!!p!!']]></main>
			</query>
			<query for="LTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements group by id_empr having sum(montant)<='!!p!!']]></main>
			</query>
			<query for="GTEQ">
				<main><![CDATA[select distinct empr_id as id_empr from recouvrements group by id_empr having sum(montant)>='!!p!!']]></main>
			</query>
		</field>
		<field title="msg:empr_transactions" id="49">
			<var name="pmb_gestion_financiere" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<var name="pmb_gestion_amende" visibility="yes">
				<value visibility="no">0</value>
			</var>
			<input type="list">
				<options>
					<option value="0">msg:empr_transactions_no_validate</option>
					<option value="1">msg:empr_transactions_validate</option>
				</options>	
			</input>
			<query for="EQ">
				<main><![CDATA[select distinct id_empr from empr where id_empr in (select distinct proprio_id as id_empr from comptes left join transactions on id_compte=compte_id where (realisee='!!p!!' and montant <> '0.00')) ]]></main>			
			</query>
		</field>
		<field title="msg:caddie_de_EMPR" id="41" separator="msg:caddie_menu">
			<input type="query_list">
				<query use_global='PMBuserid'>select idemprcaddie,name from empr_caddie where autorisations like '!!PMBuserid!! %' or autorisations like '% !!PMBuserid!!' or autorisations like '% !!PMBuserid!! %' or autorisations like '!!PMBuserid!!' order by name</query>
			</input>
			<query for="EQ">
			<main><![CDATA[select id_empr from empr where id_empr in (select distinct object_id as id_empr from empr_caddie_content where empr_caddie_id='!!p!!')]]></main>	
			</query>
		</field>
	</fixedFields>
	
	<!-- Zone dynamicFields :
		Liste des champs personalisés par type de données
			<field @att=id,dataType> 
			-id : numéro unique arbitraire
			-dataType : type de données du champ personalisé
			<field> contient les sous tags :
			
				<query> : requete associée au champ et à l'opérateur
				<query @att=for,multipleWords,regDiacrit>
					-for : nom de l'opérateur auquel correspond la requete 
					 (les opérateurs non listés ne seront pas pris en compte), 
					-multipleWords (yes|no) : la requete tient compte de plusieurs termes saisis avec des espaces
					-regDiacrit (yes|no) : les termes sont passés par la fonction de nettoyage des mots vides et des accents
			 		<query> contient les sous tags :
					
						<main> : Corps principal de la requete, 
							-!!p!! sera remplacé dans la requete par le texte saisi pour la recherche, 
							-!!multiple_term!! (uniquement si multipleWords="yes") sera remplacé par la série  
							 de tests de la clause where pour chaque mot saisi
							-!!field!! sera remplacé par le numéro de champ personalisé
						
						<multipleTerm> : terme de condition utilisé pour remplacer !!multiple_term!!
						<multipleOperator> : opérateur utilisé entre les termes de conditions 
	-->
	
	<dynamicFields>
		<fieldType type="empr" prefix="empr">
			<field dataType="small_text" id="1">
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND (!!multiple_term!!)]]></main>
					<multipleTerm>empr_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND (!!multiple_term!!)]]></main>
					<multipleTerm>empr_custom_small_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>
				<query for="STARTWITH" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_small_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_small_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_small_text = '!!p!!']]></main>
				</query>
				<query for="EQ">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_small_text = '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[SELECT DISTINCT id_empr FROM empr LEFT JOIN empr_custom_values ON id_empr=empr_custom_origine AND empr_custom_champ=!!field!! WHERE empr_custom_small_text='' OR empr_custom_small_text IS NULL]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ = !!field!! AND empr_custom_small_text != '']]></main>
				</query>
			</field>
			<field dataType="text" id="2">
				<query for="CONTAINS_AT_LEAST" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND (!!multiple_term!!)]]></main>
					<multipleTerm>empr_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>or</multipleOperator>
				</query>
				<query for="CONTAINS_ALL" multipleWords="yes" regDiacrit="yes" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND (!!multiple_term!!)]]></main>
					<multipleTerm>empr_custom_text like '%!!p!!%'</multipleTerm>
					<multipleOperator>and</multipleOperator>
				</query>
				<query for="STARTWITH" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_text like '!!p!!%']]></main>
				</query>
				<query for="ENDWITH" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_text like '%!!p!!']]></main>
				</query>
				<query for="EXACT" notAllowedFor="list,query_list" regDiacrit="no">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_text = '!!p!!']]></main>
				</query>
				<query for="EQ">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_text = '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[SELECT DISTINCT id_empr FROM empr LEFT JOIN empr_custom_values ON id_empr=empr_custom_origine AND empr_custom_champ=!!field!! WHERE empr_custom_text='' OR empr_custom_text IS NULL]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ = !!field!! AND empr_custom_text != '']]></main>
				</query>
			</field>
			<field dataType="integer" id="3">
				<query for="EQ">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_integer = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_integer < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_integer > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_integer <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_integer >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[SELECT DISTINCT id_empr FROM empr LEFT JOIN empr_custom_values ON id_empr=empr_custom_origine AND empr_custom_champ=!!field!! WHERE empr_custom_integer='' OR empr_custom_integer IS NULL]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ = !!field!! AND empr_custom_integer != '']]></main>
				</query>
			</field>
			<field dataType="float" id="4">
				<query for="EQ">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_float = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_float < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_float > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_float <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_float >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[SELECT DISTINCT id_empr FROM empr LEFT JOIN empr_custom_values ON id_empr=empr_custom_origine AND empr_custom_champ=!!field!! WHERE empr_custom_float='' OR empr_custom_float IS NULL]]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ = !!field!! AND empr_custom_float != '']]></main>
				</query>
			</field>
			<field dataType="date" id="5">
				<query for="EQ">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_date = '!!p!!']]></main>
				</query>
				<query for="LT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_date < '!!p!!']]></main>
				</query>
				<query for="GT" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_date > '!!p!!']]></main>
				</query>
				<query for="LTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_date <= '!!p!!']]></main>
				</query>
				<query for="GTEQ" notAllowedFor="list,query_list">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ=!!field!! AND empr_custom_date >= '!!p!!']]></main>
				</query>
				<query for="ISEMPTY">
					<main><![CDATA[SELECT DISTINCT id_empr FROM empr LEFT JOIN empr_custom_values ON id_empr=empr_custom_origine AND empr_custom_champ=!!field!! WHERE empr_custom_date='' OR empr_custom_date IS NULL OR empr_custom_date='0000-00-00']]></main>
				</query>
				<query for="ISNOTEMPTY">
					<main><![CDATA[SELECT DISTINCT empr_custom_origine AS id_empr FROM empr_custom_values WHERE empr_custom_champ = !!field!! AND empr_custom_date != '' AND empr_custom_date!='0000-00-00']]></main>
				</query>
			</field>
		</fieldType>
	</dynamicFields>
  
	<specialFields>
		<field type="combine_empr" title="msg:histo_title" id="1" separator="msg:recherches_query"/>	
	</specialFields>

	<keyName>id_empr</keyName>
	<operators>
		<operator name="BOOLEAN">msg:expr_bool_query</operator>
		<operator name="CONTAINS">msg:284</operator>
		<operator name="CONTAINS_ALL">msg:contient_tous_mots_query</operator>
		<operator name="CONTAINS_AT_LEAST">msg:contient_plus_un_mot_query</operator>
		<operator name="STARTWITH">msg:commence_par_query</operator>
		<operator name="ENDWITH">msg:finit_par_query</operator>
		<operator name="EXACT">msg:exactement_comme_query</operator>
		<operator name="EQ">=</operator>
		<operator name="GT">&gt;</operator>
		<operator name="LT">&lt;</operator>
		<operator name="GTEQ">&gt;=</operator>
		<operator name="LTEQ">&lt;=</operator>
		<operator name="ISEMPTY" emptyAllowed="yes">msg:est_vide_query</operator>
		<operator name="ISNOTEMPTY" emptyAllowed="yes">msg:pas_vide_query</operator>
	</operators>
</pmbfields>